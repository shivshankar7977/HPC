+++++++++++++++++++++++PXE Boot ++++++++++++++++++++++++++++++
* Download the Centos7.9 iso image from the internet
* First edit the network by going to Edit-> virtual network-> NAT -> 
* change setting and untick DHCP give network id 192.168.10.10/24  Subnet Mask 255.255.255.0


#hostnamectl set-hostname master
#exec bash
#systemctl stop firewalld;systemctl disable firewalld;
#sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config
#setenforce 0
#getenforce
#nmtui      ---edit the networkand give the ens33 ip add 192.168.10.10/24 and Gateway 192.168.10.2
#cat /etc/sysconfig/network-scripts/ifcfg-ens33      ----To Check ip assign or not
TYPE=Ethernet
PROXY_METHOD=none
BROWSER_ONLY=no
BOOTPROTO=none
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=ens33
UUID=b930b6fd-84f9-4c8c-8cde-9215913c552d
DEVICE=ens33
ONBOOT=yes
IPADDR=192.168.10.10
PREFIX=24
GATEWAY=192.168.10.2


#vim /etc/resolv.conf
#Generated by NetworkManager
nameserver 192.168.10.2

#yum install dhcp
#systemctl start dhcpd; systemctl enable dhcpd;
#cat /etc/dhcp/dhcpd.conf
#vim /etc/dhcp/dhcpd.conf
subnet 192.168.10.0 netmask 255.255.255.0 {
	option domain-name-servers master;
	default-lease-time 600;
	max-lease-time 7200;
	range 192.168.10.105 192.168.10.120;
	option routers 192.168.10.10;
	filename "pxelinux.0";
	next-server 192.168.10.10;

}



#yum install syslinux
#yum install tftp-server
#systemctl start tftp.service; systemctl enable tftp.service;
#yum install xinetd
#systemctl start xinetd; systemctl enable xinetd;
#mkdir -p /var/pxe/centos7
#mkdir -p /var/lib/tftpboot/centos7
#df -TH
#mount -t iso9660 -o loop /root/Downloads/CentOS-7-x86_64-DVD-2009.iso /var/pxe/centos7/
#df -TH
#ll /var/pxe/centos7/images/pxeboot/
#cp /var/pxe/centos7/images/pxeboot/vmlinuz /var/lib/tftpboot/centos7/
#cp /var/pxe/centos7/images/pxeboot/initrd.img /var/lib/tftpboot/centos7/
#ll /usr/share/syslinux/
#cp /usr/share/syslinux/menu.c32 /var/lib/tftpboot/
#cp /usr/share/syslinux/pxelinux.0 /var/lib/tftpboot/
#mkdir /var/lib/tftpboot/pxelinux.cfg
#vim /var/lib/tftpboot/pxelinux.cfg/default
# creating PXE defination
 
timeout 100
default menu.c32

menu title ####### PXE BOOT MENU ######
label 1
	menu label ^1) Install Centos 7
	kernel centos7/vmlinuz
	append initrd=centos7/initrd.img method=http://192.168.10.10/centos7 devfs=nomount

label 2
	menu label ^2) Boot from local drive
	localboot

#yum install httpd
#systemctl restart httpd
#vim /etc/httpd/conf.d/pxeboot.conf
Alias /centos7 /var/pxe/centos7
<Directory /var/pxe/centos7>
	options Indexes FollowSymlinks
#Ip address we want to allow
	Require ip 127.0.0.1 192.168.10.0/24
</Directory>

#systemctl restart httpd

Check on BROWSER URL files Are showing or not 

http://192.168.10.10/centos7 

+++++++++++++++++ Command History +++++++++++++++++++++++++++++++++

       ip a | grep ens
   29  ip a
   31  nmcli n off
   32  nmcli n on
   33  ip a
   34  systemctl stop firewalld;systemctl disable firewalld;
   35  systemctl status firewalld.service 
   36  sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config
   37  cat /etc/selinux/config
   38  getenforce
   39  setenforce 0
   40  getenforce
   41  cat /etc/sysconfig/network-scripts/ifcfg-ens33
   42  vim /etc/resolv.conf
   43  yum install dhcp
   44  vim /etc/dhcp/dhcpd.conf
   45  yum install syslinux
   46  yum install tftp-server
   48  systemctl start dhcpd; systemctl enable dhcpd;
   49  systemctl start tftp.service; systemctl enable tftp.service;
   50  yum install xinetd
   51  systemctl start xinetd; systemctl enable xinetd;
   52  mkdir -p /var/pxe/centos7
   53  ll /var/pxe/centos7
   54  mkdir -p /var/lib/tftpboot/centos7
   55  ll /var/lib/tftpboot/centos7
   56  df -TH
   58  ll Downloads/
   60  ss -ant
   61  ll Downloads/
   62  pwd
   63  ll /var/pxe/centos7/
   64  mount -t iso9660 -o loop /root/Downloads/CentOS-7-x86_64-DVD-2009.iso /var/pxe/centos7/
   65  ll /var/pxe/centos7/
   66  ll /var/pxe/centos7/images/
   67  ll /var/pxe/centos7/images/pxeboot/
   68  cp /var/pxe/centos7/images/pxeboot/initrd.img /var/lib/tftpboot/centos7/
   69  cp /var/pxe/centos7/images/pxeboot/vmlinuz /var/lib/tftpboot/centos7/
   70  ll /usr/share/syslinux/
   71  cp /usr/share/syslinux/menu.c32 /var/lib/tftpboot/
   72  cp /usr/share/syslinux/pxelinux.0 /var/lib/tftpboot/
   73  mkdir /var/lib/tftpboot/pxelinux.cfg
   74  vim /var/lib/tftpboot/pxelinux.cfg/default
   75  systemctl status httpd
   76  yum install httpd
   77  systemctl restart httpd
   78  systemctl status httpd
   79  vim /etc/httpd/conf.d/pxeboot.conf
   80  systemctl restart httpd

